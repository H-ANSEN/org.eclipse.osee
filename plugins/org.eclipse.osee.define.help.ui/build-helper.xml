<?xml version="1.0" encoding="UTF-8"?>
<project name="org.eclipse.osee.define.help.ui" basedir="."
	default="all">
	<property name="osee.base.help.plugin" value="../org.eclipse.osee.framework.help.ui" />
	<property name="ant.file.imported" value="${osee.base.help.plugin}/scripts" />
	<import file="${ant.file.imported}/help-build-common.xml" />

	<description>
		Generate Eclipse help content for the OSEE Define user
		guide
	</description>

	<property name="osee.help.doc.url.base" value="http://wiki.eclipse.org" />
	<property name="osee.help.image.folder" value="images" />

	<property name="osee.help.define.intro" value="OSEE/Define/Users_Guide/Intro" />
	<property name="osee.help.define.concepts" value="OSEE/Define/Users_Guide/Concepts" />
	<property name="osee.help.define.tasks" value="OSEE/Define/Users_Guide/Tasks" />
	<property name="osee.help.define.reference" value="OSEE/Define/Users_Guide/Reference" />
	<property name="osee.help.define.tips" value="OSEE/Define/Users_Guide/Tips" />
	<property name="osee.help.define.new" value="OSEE/Define/Users_Guide/New" />
	
	<property name="osee.help.define.intro.file.name" value="OSEE Define Intro" />
	<property name="osee.help.define.concepts.file.name" value="OSEE Define Concepts" />
	<property name="osee.help.define.tasks.file.name" value="OSEE Define Tasks" />
	<property name="osee.help.define.reference.file.name" value="OSEE Define Reference" />
	<property name="osee.help.define.tips.file.name" value="OSEE Define Tips" />
	<property name="osee.help.define.new.file.name" value="OSEE Define New" />

	<target name="all"
		description="Generate Eclipse help content for the OSEE ATS user guide">
		<sequential>
			<delete>
				<fileset dir="OSEE" />
			</delete>
			<antcall target="generate-help"></antcall>
		</sequential>
	</target>
	
	<target name="generate-help" description="Generate Eclipse help content for the OSEE user guide">
		<path id="wikitext.classpath2">
			<fileset dir="../org.eclipse.osee.framework.help.ui/lib">
				<include name="*.jar"/>
			</fileset>
		</path>

		<taskdef resource="org/eclipse/mylyn/wikitext/core/util/anttask/tasks.properties" classpathref="wikitext.classpath2"/>
		<taskdef resource="org/eclipse/mylyn/internal/wikitext/mediawiki/core/tasks/tasks.properties" classpathref="wikitext.classpath2"/>

		<delete failonerror="false">
			<fileset dir="OSEE" />
		</delete>

		<mediawiki-to-eclipse-help
    		wikiBaseUrl="${osee.help.doc.url.base}"
			validate="true"
			failonvalidationerror="true"
			prependImagePrefix="images"
			formatoutput="true"
			defaultAbsoluteLinkTarget="osee_external"
			dest="${basedir}"
			navigationimages="true"
    		title="OSEE User's Guide"
    		generateUnifiedToc="true">
			<path name="OSEE/Define/Users_Guide/Intro" title="Getting Started"/>
			<path name="OSEE/Define/Users_Guide/Concepts" title="Concepts"/>
			<path name="OSEE/Define/Users_Guide/Features" title="Features"/>
			<path name="OSEE/Define/Users_Guide/Tips" title="Tips and Tricks"/>
			<path name="OSEE/Define/Users_Guide/New" title="What's New"/>
			<stylesheet url="book.css"/>
		    		<pageAppendum>

= Updating This Document =

This document is maintained in a collaborative wiki.  If you wish to update or modify this document please visit 
{url}</pageAppendum>
    	</mediawiki-to-eclipse-help>
		<mkdir dir="images/images" />
		<copy todir="${basedir}/images" overwrite="true">
			<fileset dir="${ant.file.imported}/commonImages" />
		</copy>
	</target>	
</project>
